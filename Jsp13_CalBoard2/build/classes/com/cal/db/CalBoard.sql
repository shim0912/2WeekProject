
DROP TABLE CALBOARD;
DROP SEQUENCE CALBOARDSQ;

CREATE SEQUENCE CALBOARDSQ;

CREATE TABLE CALBOARD(
SEQ NUMBER PRIMARY KEY,
ID VARCHAR2(2000) NOT NULL,
TITLE VARCHAR2(2000) NOT NULL,
CONTENT VARCHAR2(4000) NOT NULL,
MDATE VARCHAR2(12) NOT NULL,
REGDATE DATE NOT NULL
);

SELECT * FROM CALBOARD;

--row_number() over(partition by @ orderby)
--@로 group by 해서, 그룹별 rownum을 쓰고 싶을 때 사용

SELECT *
FROM
	(SELECT (ROW_NUMBER() OVER(PARTITION BY SUBSTR(MDATE,1,8) ORDER BY MDATE)) RN,
			SEQ,ID,TITLE,CONTENT, MDATE,REGDATE
	FROM CALBOARD
	WHERE ID = 'hk' AND SUBSTR(MDATE,1,6) = '201711')
WHERE RN BETWEEN 1 AND 3;